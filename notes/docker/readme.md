# Docker Related Notes

## Faster Docker Alternative

```
DOCKER_BUILDKIT=1 docker build -f faster_alt_python.dockerfile -t python-ubuntu20.04:<tag> .
```

This alternative Python in Docker is faster up to ~20% than Python Alpine/SlimBuster versions:

```
+-------------------------+-----------+------------------------+
| Benchmark               | py39ubu20 | py39slimbust           |
+=========================+===========+========================+
| chaos                   | 149 ms    | 182 ms: 1.22x slower   |
+-------------------------+-----------+------------------------+
| django_template         | 71.5 ms   | 90.5 ms: 1.27x slower  |
+-------------------------+-----------+------------------------+
| go                      | 364 ms    | 448 ms: 1.23x slower   |
+-------------------------+-----------+------------------------+
| logging_format          | 12.7 us   | 16.5 us: 1.30x slower  |
+-------------------------+-----------+------------------------+
| logging_silent          | 294 ns    | 338 ns: 1.15x slower   |
+-------------------------+-----------+------------------------+
| logging_simple          | 11.5 us   | 15.6 us: 1.36x slower  |
+-------------------------+-----------+------------------------+
| nbody                   | 183 ms    | 246 ms: 1.34x slower   |
+-------------------------+-----------+------------------------+
| pathlib                 | 25.4 ms   | 31.5 ms: 1.24x slower  |
+-------------------------+-----------+------------------------+
| pickle_list             | 3.73 us   | 5.40 us: 1.45x slower  |
+-------------------------+-----------+------------------------+
| richards                | 106 ms    | 127 ms: 1.20x slower   |
+-------------------------+-----------+------------------------+
| scimark_fft             | 456 ms    | 566 ms: 1.24x slower   |
+-------------------------+-----------+------------------------+
| scimark_lu              | 218 ms    | 265 ms: 1.21x slower   |
+-------------------------+-----------+------------------------+
| Geometric mean          | (ref)     | 1.12x slower           |
+-------------------------+-----------+------------------------+
```

NOTE: put what you don't need to be copied into `.dockerignore` file.